# Mastodon Archive Viewer

This is an [Astro](https://astro.build) based Mastodon archive viewer.

# Usage

You will need:

- A Mastodon archive file (https://docs.joinmastodon.org/user/moving/#export)
- Node.js 22+
- npm

1. Clone this repository
2. Extract your Mastodon archive file and:

3. Place the following files inside the `archive-data` folder:

- `actor.json`
- `outbox.json`

4. Place the following files and folders into the `public` folder:

- `media_attachments`
- `avatar.jpg`
- `header.jpg`

5. (Optional) Create a `.env` file with the following content if you want to show "private" (non public and non unlisted) posts from the archive:

```
SHOW_PRIVATE_POSTS=true
```

6. Run `npm install` and `npm run build`
7. The generated site will be in the `dist` folder

# Features and specs

- Tested with an archive generated by Mastodon 4.2.x
- Client-side search with fuzzy matching thanks to [fuse.js](https://fusejs.io/)
- Client-side pagination
- Completely statically generated with [Astro](https://astro.build), doesn't require a backend
- Supports all media types supported by Mastodon (image, video and audio files)
- Supports content warnings / sensitive content
- Generate a page per post, each of which contains the thread it belongs to
